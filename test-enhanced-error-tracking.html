<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhanced Error Tracking Test Page</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: #f8fafc;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5rem;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
            font-size: 1.1rem;
        }
        .content {
            padding: 30px;
        }
        .section {
            margin-bottom: 40px;
            padding: 25px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background: #f8fafc;
        }
        .section h2 {
            margin-top: 0;
            color: #2d3748;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        .btn-primary {
            background: #667eea;
            color: white;
        }
        .btn-primary:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }
        .btn-danger {
            background: #e53e3e;
            color: white;
        }
        .btn-danger:hover {
            background: #c53030;
            transform: translateY(-1px);
        }
        .btn-warning {
            background: #ed8936;
            color: white;
        }
        .btn-warning:hover {
            background: #dd6b20;
            transform: translateY(-1px);
        }
        .btn-success {
            background: #38a169;
            color: white;
        }
        .btn-success:hover {
            background: #2f855a;
            transform: translateY(-1px);
        }
        .btn-info {
            background: #3182ce;
            color: white;
        }
        .btn-info:hover {
            background: #2c5aa0;
            transform: translateY(-1px);
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #4a5568;
        }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            font-size: 14px;
        }
        .form-group textarea {
            height: 100px;
            resize: vertical;
        }
        .status {
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            font-weight: 500;
        }
        .status.success {
            background: #c6f6d5;
            color: #22543d;
            border: 1px solid #9ae6b4;
        }
        .status.error {
            background: #fed7d7;
            color: #742a2a;
            border: 1px solid #feb2b2;
        }
        .status.info {
            background: #bee3f8;
            color: #2a4365;
            border: 1px solid #90cdf4;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .metric-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            text-align: center;
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }
        .metric-label {
            color: #718096;
            font-size: 0.9rem;
        }
        .console-output {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 6px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 13px;
            max-height: 300px;
            overflow-y: auto;
            margin: 20px 0;
        }
        .console-line {
            margin-bottom: 5px;
        }
        .console-line.error { color: #fc8181; }
        .console-line.warn { color: #f6e05e; }
        .console-line.info { color: #63b3ed; }
        .console-line.log { color: #68d391; }
        .tabs {
            display: flex;
            border-bottom: 1px solid #e2e8f0;
            margin-bottom: 20px;
        }
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }
        .tab.active {
            border-bottom-color: #667eea;
            color: #667eea;
            font-weight: 500;
        }
        .tab:hover {
            background: #f7fafc;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .session-data {
            background: #f7fafc;
            padding: 20px;
            border-radius: 6px;
            font-family: monospace;
            font-size: 12px;
            max-height: 400px;
            overflow-y: auto;
        }
        .highlight {
            background: #fef5e7;
            padding: 2px 4px;
            border-radius: 3px;
            color: #d69e2e;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Enhanced Error Tracking Test</h1>
            <p>Comprehensive testing of all error tracking features including session replay, performance metrics, and user context</p>
        </div>
        
        <div class="content">
            <!-- Configuration Section -->
            <div class="section">
                <h2>‚öôÔ∏è Configuration</h2>
                <div class="form-group">
                    <label for="apiKey">API Key:</label>
                    <input type="text" id="apiKey" placeholder="Enter your API key" value="test-api-key-123">
                </div>
                <div class="form-group">
                    <label for="endpoint">Endpoint:</label>
                    <input type="text" id="endpoint" placeholder="API endpoint URL" value="http://localhost:8000/api/error-reports">
                </div>
                <div class="form-group">
                    <label for="sampleRate">Sample Rate (0.0 - 1.0):</label>
                    <input type="number" id="sampleRate" min="0" max="1" step="0.1" value="1.0">
                </div>
                <div class="form-group">
                    <label for="debugMode">Debug Mode:</label>
                    <select id="debugMode">
                        <option value="true">Enabled</option>
                        <option value="false">Disabled</option>
                    </select>
                </div>
                <button class="btn btn-primary" onclick="initializeTracker()">üöÄ Initialize Tracker</button>
                <button class="btn btn-info" onclick="showConfiguration()">üìã Show Current Config</button>
            </div>

            <!-- Status Section -->
            <div id="statusSection" class="section" style="display: none;">
                <h2>üìä Tracker Status</h2>
                <div id="trackerStatus" class="status info">
                    Initializing tracker...
                </div>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value" id="sessionId">-</div>
                        <div class="metric-label">Session ID</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="eventCount">0</div>
                        <div class="metric-label">Events Tracked</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="errorCount">0</div>
                        <div class="metric-label">Errors Captured</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="uptime">0s</div>
                        <div class="metric-label">Uptime</div>
                    </div>
                </div>
            </div>

            <!-- Error Testing Section -->
            <div class="section">
                <h2>üêõ Error Testing</h2>
                <p>Test various types of JavaScript errors and promise rejections</p>
                
                <div class="button-group">
                    <button class="btn btn-danger" onclick="throwError()">Throw Error</button>
                    <button class="btn btn-danger" onclick="throwTypeError()">Type Error</button>
                    <button class="btn btn-danger" onclick="throwReferenceError()">Reference Error</button>
                    <button class="btn btn-danger" onclick="throwSyntaxError()">Syntax Error</button>
                    <button class="btn btn-warning" onclick="rejectPromise()">Reject Promise</button>
                    <button class="btn btn-warning" onclick="asyncError()">Async Error</button>
                    <button class="btn btn-info" onclick="manualTrackError()">Manual Track Error</button>
                    <button class="btn btn-success" onclick="trackCustomEvent()">Track Custom Event</button>
                </div>
            </div>

            <!-- Session Replay Testing -->
            <div class="section">
                <h2>üé¨ Session Replay Testing</h2>
                <p>Test session replay features including mouse tracking, clicks, and user interactions</p>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="simulateUserActions()">Simulate User Actions</button>
                    <button class="btn btn-info" onclick="showSessionData()">Show Session Data</button>
                    <button class="btn btn-warning" onclick="clearSessionData()">Clear Session Data</button>
                </div>
                
                <div class="form-group">
                    <label for="testInput">Test Input Field:</label>
                    <input type="text" id="testInput" placeholder="Type here to test keypress tracking">
                </div>
                
                <div class="form-group">
                    <label for="testTextarea">Test Textarea:</label>
                    <textarea id="testTextarea" placeholder="Type here to test more keypress tracking"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="testSelect">Test Select:</label>
                    <select id="testSelect">
                        <option value="">Choose an option</option>
                        <option value="option1">Option 1</option>
                        <option value="option2">Option 2</option>
                        <option value="option3">Option 3</option>
                    </select>
                </div>
            </div>

            <!-- Performance Testing -->
            <div class="section">
                <h2>‚ö° Performance Testing</h2>
                <p>Test performance monitoring and metrics collection</p>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="measurePerformance()">Measure Performance</button>
                    <button class="btn btn-info" onclick="showPerformanceMetrics()">Show Metrics</button>
                    <button class="btn btn-warning" onclick="simulateLoad()">Simulate Page Load</button>
                </div>
                
                <div id="performanceMetrics" class="metrics-grid" style="display: none;">
                    <div class="metric-card">
                        <div class="metric-value" id="pageLoadTime">-</div>
                        <div class="metric-label">Page Load Time</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="domContentLoaded">-</div>
                        <div class="metric-label">DOM Ready</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="memoryUsage">-</div>
                        <div class="metric-label">Memory Usage</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value" id="eventCount">-</div>
                        <div class="metric-label">Event Count</div>
                    </div>
                </div>
            </div>

            <!-- Console Testing -->
            <div class="section">
                <h2>üìù Console Testing</h2>
                <p>Test console log interception and error logging</p>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="testConsoleLogs()">Test Console Logs</button>
                    <button class="btn btn-info" onclick="clearConsole()">Clear Console</button>
                </div>
                
                <div id="consoleOutput" class="console-output">
                    <div class="console-line">Console output will appear here...</div>
                </div>
            </div>

            <!-- Network Testing -->
            <div class="section">
                <h2>üåê Network Testing</h2>
                <p>Test network request monitoring and error tracking</p>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="testXHR()">Test XHR Request</button>
                    <button class="btn btn-primary" onclick="testFetch()">Test Fetch Request</button>
                    <button class="btn btn-danger" onclick="testFailedRequest()">Test Failed Request</button>
                    <button class="btn btn-info" onclick="showNetworkData()">Show Network Data</button>
                </div>
            </div>

            <!-- Storage Testing -->
            <div class="section">
                <h2>üíæ Storage Testing</h2>
                <p>Test storage monitoring and data collection</p>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="testLocalStorage()">Test LocalStorage</button>
                    <button class="btn btn-primary" onclick="testSessionStorage()">Test SessionStorage</button>
                    <button class="btn btn-primary" onclick="testCookies()">Test Cookies</button>
                    <button class="btn btn-info" onclick="showStorageData()">Show Storage Data</button>
                </div>
            </div>

            <!-- Data Export -->
            <div class="section">
                <h2>üì§ Data Export</h2>
                <p>Export collected data for analysis</p>
                
                <div class="button-group">
                    <button class="btn btn-primary" onclick="exportSessionData()">Export Session Data</button>
                    <button class="btn btn-primary" onclick="exportErrorData()">Export Error Data</button>
                    <button class="btn btn-info" onclick="showAllData()">Show All Data</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Error Tracker Script -->
    <script src="js/metric-points-error-tracker.js"></script>
    
    <script>
        let tracker = null;
        let startTime = Date.now();
        let eventCount = 0;
        let errorCount = 0;
        
        // Initialize tracker
        function initializeTracker() {
            const apiKey = document.getElementById('apiKey').value;
            const endpoint = document.getElementById('endpoint').value;
            const sampleRate = parseFloat(document.getElementById('sampleRate').value);
            const debug = document.getElementById('debugMode').value === 'true';
            
            if (!apiKey || !endpoint) {
                showStatus('Please provide both API key and endpoint', 'error');
                return;
            }
            
            // Set global configuration
            window.MetricPointsConfig = {
                apiKey: apiKey,
                endpoint: endpoint + '/' + encodeURIComponent(apiKey),
                sampleRate: sampleRate,
                debug: debug,
                sessionReplay: {
                    enabled: true,
                    maxEvents: 1000,
                    mouseTracking: true,
                    clickTracking: true,
                    scrollTracking: true,
                    keypressTracking: true,
                    focusTracking: true,
                    urlTracking: true
                },
                performance: {
                    enabled: true,
                    captureMetrics: true,
                    memoryMonitoring: true
                },
                privacy: {
                    maskUserInput: true,
                    excludeSensitiveFields: ['password', 'credit-card', 'ssn'],
                    userConsent: true
                },
                metadata: {
                    testPage: true,
                    version: '2.0.0',
                    environment: 'development'
                }
            };
            
            // Wait for tracker to initialize
            setTimeout(() => {
                if (window.MetricPointsTracker) {
                    tracker = window.MetricPointsTracker;
                    showStatus('Tracker initialized successfully!', 'success');
                    document.getElementById('statusSection').style.display = 'block';
                    updateMetrics();
                    startMetricsUpdate();
                } else {
                    showStatus('Failed to initialize tracker', 'error');
                }
            }, 1000);
        }
        
        // Show configuration
        function showConfiguration() {
            if (window.MetricPointsConfig) {
                alert('Current Configuration:\n' + JSON.stringify(window.MetricPointsConfig, null, 2));
            } else {
                alert('No configuration set');
            }
        }
        
        // Error testing functions
        function throwError() {
            eventCount++;
            throw new Error('Test error thrown at ' + new Date().toISOString());
        }
        
        function throwTypeError() {
            eventCount++;
            const obj = null;
            obj.nonExistentMethod();
        }
        
        function throwReferenceError() {
            eventCount++;
            nonExistentVariable.someMethod();
        }
        
        function throwSyntaxError() {
            eventCount++;
            eval('function test() {');
        }
        
        function rejectPromise() {
            eventCount++;
            Promise.reject(new Error('Test promise rejection'));
        }
        
        async function asyncError() {
            eventCount++;
            throw new Error('Test async error');
        }
        
        function manualTrackError() {
            eventCount++;
            if (tracker) {
                tracker.trackError(new Error('Manually tracked error'), {
                    source: 'test-page',
                    category: 'manual-testing'
                });
                showStatus('Error tracked manually', 'success');
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        function trackCustomEvent() {
            eventCount++;
            if (tracker) {
                tracker.trackEvent('button_click', {
                    button: 'track_custom_event',
                    timestamp: new Date().toISOString(),
                    userAgent: navigator.userAgent
                });
                showStatus('Custom event tracked', 'success');
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        // Session replay testing
        function simulateUserActions() {
            // Simulate mouse movements
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const event = new MouseEvent('mousemove', {
                        clientX: Math.random() * window.innerWidth,
                        clientY: Math.random() * window.innerHeight
                    });
                    document.dispatchEvent(event);
                }, i * 100);
            }
            
            // Simulate clicks
            setTimeout(() => {
                const event = new MouseEvent('click', {
                    clientX: 100,
                    clientY: 100
                });
                document.dispatchEvent(event);
            }, 500);
            
            showStatus('User actions simulated', 'success');
        }
        
        function showSessionData() {
            if (tracker) {
                const data = tracker.getSessionData();
                alert('Session Data:\n' + JSON.stringify(data, null, 2));
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        function clearSessionData() {
            if (tracker) {
                // Reset session data
                tracker.sessionReplay.stop();
                tracker.sessionReplay.start();
                showStatus('Session data cleared', 'success');
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        // Performance testing
        function measurePerformance() {
            if (window.performance && window.performance.timing) {
                const timing = window.performance.timing;
                const navigationStart = timing.navigationStart;
                
                const metrics = {
                    pageLoadTime: timing.loadEventEnd - navigationStart,
                    domContentLoaded: timing.domContentLoadedEventEnd - navigationStart,
                    timeToFirstByte: timing.responseStart - navigationStart
                };
                
                document.getElementById('pageLoadTime').textContent = metrics.pageLoadTime + 'ms';
                document.getElementById('domContentLoaded').textContent = metrics.domContentLoaded + 'ms';
                document.getElementById('performanceMetrics').style.display = 'grid';
                
                showStatus('Performance metrics captured', 'success');
            } else {
                showStatus('Performance API not available', 'warning');
            }
        }
        
        function showPerformanceMetrics() {
            if (tracker) {
                const metrics = tracker.getPerformanceMetrics();
                alert('Performance Metrics:\n' + JSON.stringify(metrics, null, 2));
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        function simulateLoad() {
            // Simulate page load events
            const loadEvent = new Event('load');
            window.dispatchEvent(loadEvent);
            
            const domContentLoadedEvent = new Event('DOMContentLoaded');
            document.dispatchEvent(domContentLoadedEvent);
            
            showStatus('Page load events simulated', 'success');
        }
        
        // Console testing
        function testConsoleLogs() {
            console.log('This is a test log message');
            console.warn('This is a test warning message');
            console.error('This is a test error message');
            console.info('This is a test info message');
            console.debug('This is a test debug message');
            
            addConsoleLine('log', 'Test log message sent');
            addConsoleLine('warn', 'Test warning message sent');
            addConsoleLine('error', 'Test error message sent');
            addConsoleLine('info', 'Test info message sent');
            addConsoleLine('debug', 'Test debug message sent');
            
            showStatus('Console logs tested', 'success');
        }
        
        function addConsoleLine(level, message) {
            const consoleOutput = document.getElementById('consoleOutput');
            const line = document.createElement('div');
            line.className = `console-line ${level}`;
            line.textContent = `[${level.toUpperCase()}] ${message}`;
            consoleOutput.appendChild(line);
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        function clearConsole() {
            const consoleOutput = document.getElementById('consoleOutput');
            consoleOutput.innerHTML = '<div class="console-line">Console cleared...</div>';
        }
        
        // Network testing
        function testXHR() {
            const xhr = new XMLHttpRequest();
            xhr.open('GET', 'https://httpbin.org/get?test=xhr');
            xhr.onload = function() {
                showStatus('XHR request completed successfully', 'success');
            };
            xhr.onerror = function() {
                showStatus('XHR request failed', 'error');
            };
            xhr.send();
        }
        
        function testFetch() {
            fetch('https://httpbin.org/get?test=fetch')
                .then(response => response.json())
                .then(data => {
                    showStatus('Fetch request completed successfully', 'success');
                })
                .catch(error => {
                    showStatus('Fetch request failed', 'error');
                });
        }
        
        function testFailedRequest() {
            fetch('https://invalid-domain-that-does-not-exist.com/test')
                .then(response => response.json())
                .catch(error => {
                    showStatus('Failed request test completed', 'success');
                });
        }
        
        function showNetworkData() {
            if (tracker) {
                const data = tracker.getSessionData();
                alert('Network Data:\n' + JSON.stringify(data.networkRequests, null, 2));
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        // Storage testing
        function testLocalStorage() {
            try {
                localStorage.setItem('testKey', 'testValue');
                localStorage.setItem('testObject', JSON.stringify({ test: true, timestamp: Date.now() }));
                showStatus('LocalStorage test completed', 'success');
            } catch (error) {
                showStatus('LocalStorage test failed', 'error');
            }
        }
        
        function testSessionStorage() {
            try {
                sessionStorage.setItem('testKey', 'testValue');
                sessionStorage.setItem('testObject', JSON.stringify({ test: true, timestamp: Date.now() }));
                showStatus('SessionStorage test completed', 'success');
            } catch (error) {
                showStatus('SessionStorage test failed', 'error');
            }
        }
        
        function testCookies() {
            try {
                document.cookie = 'testCookie=testValue; path=/';
                document.cookie = 'testCookie2=testValue2; path=/';
                showStatus('Cookies test completed', 'success');
            } catch (error) {
                showStatus('Cookies test failed', 'error');
            }
        }
        
        function showStorageData() {
            if (tracker) {
                const data = tracker.getSessionData();
                alert('Storage Data:\n' + JSON.stringify(data.storageChanges, null, 2));
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        // Data export
        function exportSessionData() {
            if (tracker) {
                const data = tracker.getSessionData();
                downloadJSON(data, 'session-data.json');
                showStatus('Session data exported', 'success');
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        function exportErrorData() {
            if (tracker) {
                const data = tracker.getSessionData();
                const errorData = {
                    errors: data.errors || [],
                    consoleLogs: data.consoleLogs || [],
                    networkRequests: data.networkRequests || []
                };
                downloadJSON(errorData, 'error-data.json');
                showStatus('Error data exported', 'success');
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        function showAllData() {
            if (tracker) {
                const data = tracker.getSessionData();
                const newWindow = window.open('', '_blank');
                newWindow.document.write(`
                    <html>
                        <head><title>All Collected Data</title></head>
                        <body>
                            <h1>All Collected Data</h1>
                            <pre>${JSON.stringify(data, null, 2)}</pre>
                        </body>
                    </html>
                `);
            } else {
                showStatus('Tracker not initialized', 'error');
            }
        }
        
        // Utility functions
        function showStatus(message, type) {
            const statusDiv = document.getElementById('trackerStatus');
            statusDiv.textContent = message;
            statusDiv.className = `status ${type}`;
        }
        
        function updateMetrics() {
            if (tracker) {
                const sessionData = tracker.getSessionData();
                document.getElementById('sessionId').textContent = sessionData.sessionId.substring(0, 8) + '...';
                document.getElementById('eventCount').textContent = eventCount;
                document.getElementById('errorCount').textContent = errorCount;
                
                const uptime = Math.floor((Date.now() - startTime) / 1000);
                document.getElementById('uptime').textContent = uptime + 's';
            }
        }
        
        function startMetricsUpdate() {
            setInterval(updateMetrics, 1000);
        }
        
        function downloadJSON(data, filename) {
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Error event listeners
        window.addEventListener('error', function(e) {
            errorCount++;
            addConsoleLine('error', `Error captured: ${e.message}`);
        });
        
        window.addEventListener('unhandledrejection', function(e) {
            errorCount++;
            addConsoleLine('error', `Promise rejection captured: ${e.reason}`);
        });
        
        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            showStatus('Page loaded, ready to initialize tracker', 'info');
        });
    </script>
</body>
</html>
